<div
  v-component="to-do-item"
  v-data:to-do="<%= JSON.stringify(toDo) %>"
  v-data:tags="<%= JSON.stringify(tags) %>"
  v-pass:text
  class="to-do-item h-12 flex items-stretch"
>
  <div
    v-if="isShowing"
    class="flex items-center w-full"
  >
    <div class="flex-2 flex items-center">
      <input
        type="checkbox"
        class="mr-2"
        v-sync="toDo.checked"
      ></input>
      <p
        class="flex-2"
        v-class:line-through="toDo.checked"
        v-class:italic="toDo.checked"
        v-text="toDo.label"
      ></p>
    </div>
    <div class="to-do-tags flex-1 flex items-center">
      <% tags.forEach((tag) => { %>
        <%- include('/to-do/tag', { tag }) %>
      <% }); %>
    </div>
    <div class="flex-1 flex items-center justify-end">
      <button
        v-disabled="toDo.checked"
        class="text-white bg-pink-600 px-3 py-2 rounded hover:shadow-md active:shadow-none disabled:opacity-50"
        v-event:click="confirmDelete"
      >Delete</button>
    </div>
  </div>
  <div
    v-if="isDeleting"
    class="flex items-center w-full"
    hidden
  >
    <p class="flex-1 text-red-600">Are you sure you want to delete this?</p>
    <button
      class="text-white bg-pink-600 px-3 py-2 rounded hover:shadow-md active:shadow-none mr-2"
      v-event:click="delete"
    >Confirm</button>
    <button
      class="bg-gray-400 px-3 py-2 rounded hover:shadow-md active:shadow-none"
      v-event:click="reset"
    >Cancel</button>
  </div>
</div>
